import{j as e}from"./jsx-runtime-BjG_zV1W.js";import{D as o}from"./dispatcherStatusWorker-C63exuwm.js";import{r as d}from"./chunk-K6AXKMTT-BF6vPW5T.js";function l(n){const s=new Date(n*1e3),r={hour:"2-digit",minute:"2-digit",hour12:!1},t={month:"long",day:"numeric",year:"numeric"},a=s.toLocaleString("en-US",r),c=s.toLocaleString("en-US",t);return`${a} ${c}`}function p({Iscollapsible:n,limit:s=5}){const r=d.useContext(o);return s==-1&&(s=r.pending_orders.length),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg w-full",children:[e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Queue"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Target"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Scheduled At"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Body"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Title"})]})}),e.jsxs("tbody",{children:[r.pending_orders.slice(0,s).map((t,a)=>(console.log("Mapping ",t,Array.isArray(r.pending_orders)),e.jsxs("tr",{className:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white text-center",children:a+1}),e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white text-center",children:t.message.to}),e.jsx("td",{className:"px-6 py-4 text-center",children:l(t.scheduled_at)}),e.jsx("td",{className:"px-6 py-4 text-center",children:t.message.body.length>10?t.message.body.slice(0,10)+"...":t.message.body}),e.jsx("td",{className:"px-6 py-4 text-center",children:t.message.title.length>10?t.message.title.slice(0,10)+"...":t.message.title})]},a))),s!=-1&&r.pending_orders.length>s&&e.jsx("tr",{className:"odd:bg-white rounded-md odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700",children:e.jsx("td",{colSpan:"5",className:" text-center",children:e.jsx("button",{onClick:()=>window.location.href="/pending_orders",className:"px-4 text-center py-2 w-full bg-inherit text-white rounded text-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50  hover:bg-gray-700",children:"..."})})})]})]}),e.jsx("div",{className:"h-10"})]})})}export{p as P};
