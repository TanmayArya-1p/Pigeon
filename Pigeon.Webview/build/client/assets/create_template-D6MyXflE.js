import{w as S}from"./with-props-CPHBJpbO.js";import{j as e}from"./jsx-runtime-BjG_zV1W.js";import{r as n}from"./chunk-K6AXKMTT-BF6vPW5T.js";import{M as v}from"./react-tooltip.min-CX-i1l2e.js";import{a as E}from"./axios-upsvKRUO.js";import{L,T as R,B as A,C as I,I as B,y as k}from"./triangle-alert-Bv_F6sZw.js";import{c as T}from"./config-zxJQ3bqG.js";function C({text:p,setText:y,title:d}){const[u,m]=n.useState(""),[b,g]=n.useState([]),a=n.useRef(null);n.useEffect(()=>{l(p)},[p]);const w=t=>{const r=t.target.innerText;y(r)},l=t=>{const r=/\{([^}]+)\}/g,o=[];let s=t.replace(r,(x,f)=>(o.push(f),`<span class="highlight">${x}</span>`));m(s),g(o)},h=()=>{const t=window.getSelection();if(t.rangeCount>0){const r=t.getRangeAt(0),o=r.cloneRange();o.selectNodeContents(a.current),o.setEnd(r.startContainer,r.startOffset);const s=o.toString().length;return{start:s,end:s+r.toString().length}}return null},c=t=>{const r={start:0,end:0},o=[a.current];let s,x=!1,f=!1;for(;!f&&(s=o.pop());)if(s.nodeType===3){const i=r.start+s.length;if(!x&&t.start>=r.start&&t.start<=i){const j=document.createRange();if(j.setStart(s,t.start-r.start),t.end<=i){j.setEnd(s,t.end-r.start);const N=window.getSelection();N.removeAllRanges(),N.addRange(j),f=!0}x=!0}r.start=i}else{let i=s.childNodes.length;for(;i--;)o.push(s.childNodes[i])}};return n.useEffect(()=>{const t=h();a.current&&(a.current.innerHTML=u),t&&c(t)},[u]),e.jsxs("div",{children:[e.jsxs("div",{className:"rounded-tr-lg rounded-tl-lg flex-row flex p-1 bg-gray-800 border-t border-l border-r border-gray-500",children:[e.jsx("div",{className:"ml-2 mt-1 mb-1","data-tooltip-id":"tooltip","data-tooltip-content":"Provide Parameters Within {}(curly braces)",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-3.5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})})}),e.jsx(v,{id:"tooltip"}),e.jsx("div",{className:"text-gray-500 ml-1.5 font-mono text-sm mt-",children:"TemplateText"}),e.jsx("div",{className:"text-gray-500 ml-1.5 font-mono text-sm ml-10 font-semibold",children:d})]}),e.jsx("div",{ref:a,contentEditable:!0,className:"border-gray-500 border-l border-t border-r p-2 focus:outline-none",style:{whiteSpace:"pre-wrap",width:"600px",overflowX:"auto"},onInput:w}),e.jsxs("div",{className:"border-gray-500 flex-row flex p-2 font-mono text-sm bg-gray-900 border p-2 rounded-br-lg rounded-bl-lg focus:outline-none",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg","data-tooltip-id":"parameters","data-tooltip-content":"Parameters",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.745 3A23.933 23.933 0 0 0 3 12c0 3.183.62 6.22 1.745 9M19.5 3c.967 2.78 1.5 5.817 1.5 9s-.533 6.22-1.5 9M8.25 8.885l1.444-.89a.75.75 0 0 1 1.105.402l2.402 7.206a.75.75 0 0 0 1.104.401l1.445-.889m-8.25.75.213.09a1.687 1.687 0 0 0 2.062-.617l4.45-6.676a1.688 1.688 0 0 1 2.062-.618l.213.09"})}),e.jsx(v,{id:"parameters"}),":"," "+b.join(", ")]}),e.jsx("style",{jsx:!0,children:`
        .highlight {
          background-color: green;
          color: white;
        }
      `})]})}function q({}){return[{title:"Pigeon/Create Template"},{name:"description",content:"Template Crafter"}]}const F=S(function(y){const[d,u]=n.useState(""),[m,b]=n.useState(""),[g,a]=n.useState("");async function w(){let l=JSON.stringify({name:g,title:m,body:d}),h={method:"post",maxBodyLength:1/0,url:T.SCHEMA_ENGINE_URL+"/schema",headers:{Authorization:T.SCHEMA_ENGINE_AUTH_TOKEN,"Content-Type":"application/json"},data:l};E.request(h).then(c=>{k.success("Success "+JSON.stringify(c.data))}).catch(c=>{k.error("Error Creating Template: "+c)})}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 w-full h-full mb-20",children:e.jsxs("div",{className:"flex flex-col items-start w-[75%] ml-[20%] mt-[10%] ",children:[e.jsx("h1",{className:"text-center w-full text-4xl mb-20 font-semibold",children:"Create a Template"}),e.jsxs("div",{className:"flex flex-row w-full justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Template Name"}),e.jsx("input",{type:"text",id:"name",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:g,onChange:l=>a(l.target.value),placeholder:"foo bar",required:!0})]}),e.jsx("button",{onClick:w,className:"w-[100%] mt-20 relative inline-flex items-center justify-center p-0.5 mb-2 me-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-cyan-500 to-blue-500 group-hover:from-cyan-500 group-hover:to-blue-500 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-cyan-200 dark:focus:ring-cyan-800",children:e.jsx("span",{className:"w-full relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0",children:"Create"})})]}),e.jsxs("div",{children:[e.jsx(C,{text:d,setText:u,title:"Body"}),e.jsx("div",{className:"h-10"}),e.jsx(C,{text:m,setText:b,title:"Title"})]})]})]})}),e.jsx(L,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark",icon:({type:l,theme:h})=>{switch(l){case"info":return e.jsx(B,{className:"stroke-indigo-400"});case"error":return e.jsx(I,{className:"stroke-red-500"});case"success":return e.jsx(A,{className:"stroke-green-500"});case"warning":return e.jsx(R,{className:"stroke-yellow-500"});default:return null}}})]})});export{F as default,q as meta};
